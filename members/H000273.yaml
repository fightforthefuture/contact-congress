bioguide:  H000273
contact_form:
  method: post
  action: /email-john/#gf_17
  steps:
    - visit: "https://www.hickenlooper.senate.gov/email-john/#contact-form-emailJohn"
    - wait:
        - value: 3
    - javascript:
        - value: "document.querySelector('.gform_wrapper').style.display = 'block'"
    - javascript:
        - value: document.querySelector('#contact-form-emailJohn').innerHTML = '<form method=\"post\" target=\"_self\" id=\"gform_17_new\" action=\"/email-john/\" >    <select name=\"input_2\" id=\"input_17_2\"><option value=\"\" selected=\"selected\">Prefix*</option><option value=\"Mr.\">Mr.</option><option value=\"Mrs.\">Mrs.</option><option value=\"Ms.\">Ms.</option><option value=\"Mx.\">Mx.</option><option value=\"Mr. and Mrs.\">Mr. and Mrs.</option><option value=\"Miss\">Miss</option><option value=\"Dr.\">Dr.</option></select>    <input type=\"text\" name=\"input_3.3\" id=\"input_17_3_3\" value=\"\" placeholder=\"First Name*\">    <input type=\"text\" name=\"input_3.6\" id=\"input_17_3_6\" value=\"\" placeholder=\"Last Name*\">    <input name=\"input_5\" id=\"input_17_5\" type=\"text\" value=\"\" placeholder=\"Street Address*\"><input name=\"input_7\" id=\"input_17_7\" type=\"text\" value=\"\" placeholder=\"City*\"><select name=\"input_8\" id=\"input_17_8\"><option value=\"\" selected=\"selected\">State*</option><option value=\"AK\">AK</option><option value=\"AL\">AL</option><option value=\"AR\">AR</option><option value=\"AZ\">AZ</option><option value=\"CA\">CA</option><option value=\"CO\">CO</option><option value=\"CT\">CT</option><option value=\"DC\">DC</option><option value=\"DE\">DE</option><option value=\"FL\">FL</option><option value=\"GA\">GA</option><option value=\"HI\">HI</option><option value=\"IA\">IA</option><option value=\"ID\">ID</option><option value=\"IL\">IL</option><option value=\"IN\">IN</option><option value=\"KS\">KS</option><option value=\"KY\">KY</option><option value=\"LA\">LA</option><option value=\"MA\">MA</option><option value=\"MD\">MD</option><option value=\"ME\">ME</option><option value=\"MI\">MI</option><option value=\"MN\">MN</option><option value=\"MS\">MS</option><option value=\"MO\">MO</option><option value=\"MT\">MT</option><option value=\"NC\">NC</option><option value=\"NE\">NE</option><option value=\"NH\">NH</option><option value=\"NJ\">NJ</option><option value=\"NM\">NM</option><option value=\"NV\">NV</option><option value=\"NY\">NY</option><option value=\"ND\">ND</option><option value=\"OH\">OH</option><option value=\"OK\">OK</option><option value=\"OR\">OR</option><option value=\"PA\">PA</option><option value=\"RI\">RI</option><option value=\"SC\">SC</option><option value=\"SD\">SD</option><option value=\"TN\">TN</option><option value=\"TX\">TX</option><option value=\"UT\">UT</option><option value=\"VT\">VT</option><option value=\"VA\">VA</option><option value=\"WA\">WA</option><option value=\"WV\">WV</option><option value=\"WI\">WI</option><option value=\"WY\">WY</option></select><input name=\"input_9\" id=\"input_17_9\" type=\"text\" value=\"\" placeholder=\"Zip*\"><input type=\"email\" name=\"input_10\" id=\"input_17_10\" value=\"\" placeholder=\"Email Address*\"><input type=\"email\" name=\"input_10_2\" id=\"input_17_10_2\" value=\"\" placeholder=\"Verify Email Address*\">    <select name=\"input_17\" id=\"input_17_17\"><option value=\"\" selected=\"selected\">What is the general topic of your message?*</option><option value=\"Agriculture\">Agriculture</option><option value=\"Animal Rights\">Animal Rights</option><option value=\"Appropriations\">Appropriations</option><option value=\"Arts &amp; Humanities\">Arts &amp; Humanities</option><option value=\"Banking &amp; Financial Services\">Banking &amp; Financial Services</option><option value=\"Budget\">Budget</option><option value=\"Business and Commerce\">Business and Commerce</option><option value=\"Campaign/Election Reform\">Campaign/Election Reform</option><option value=\"Consumer Protection\">Consumer Protection</option><option value=\"Children\">Children</option><option value=\"Defense and Military\">Defense and Military</option><option value=\"Economic Development\">Economic Development</option><option value=\"Education\">Education</option><option value=\"Energy\">Energy</option><option value=\"Environment\">Environment</option><option value=\"Ethics Reform\">Ethics Reform</option><option value=\"Foreign Relations\">Foreign Relations</option><option value=\"Guns\">Guns</option><option value=\"Healthcare\">Healthcare</option><option value=\"Homeland Security\">Homeland Security</option><option value=\"Housing and Urban Affairs\">Housing and Urban Affairs</option><option value=\"Immigration\">Immigration</option><option value=\"Insurance Problems\">Insurance Problems</option><option value=\"Interior\">Interior</option><option value=\"Intelligence\">Intelligence</option><option value=\"Judiciary\">Judiciary</option><option value=\"Labor\">Labor</option><option value=\"Nutrition\">Nutrition</option><option value=\"Postal Service\">Postal Service</option><option value=\"Science and Innovation\">Science and Innovation</option><option value=\"Seniors\">Seniors</option><option value=\"Social Issues\">Social Issues</option><option value=\"Taxes\">Taxes</option><option value=\"Technology and Telecom\">Technology and Telecom</option><option value=\"Trade\">Trade</option><option value=\"Transportation\">Transportation</option><option value=\"Veterans\">Veterans</option><option value=\"Voting Rights\">Voting Rights</option><option value=\"Women\'s Issues\">Women\'s Issues</option></select><input name=\"input_18\" id=\"input_17_18\" type=\"text\" value=\"\" placeholder=\"Subject\"><textarea name=\"input_14\" id=\"input_17_14\" placeholder=\"Share your opinion, story or concerns or ask Senator Hickenlooper a question\"></textarea><input type=\"submit\" id=\"gform_submit_button_17\" value=\"Submit\"> <input type=\"hidden\" name=\"gform_ajax\" value=\"form_id=17&amp;title=&amp;description=&amp;tabindex=0\">    <input type=\"hidden\" name=\"is_submit_17\" value=\"1\">    <input type=\"hidden\" name=\"gform_submit\" value=\"17\">        <input type=\"hidden\" name=\"gform_unique_id\" value=\"\">    <input type=\"hidden\" name=\"state_17\" value=\"WyJbXSIsImY5MzA5MDE1MDkwZjkwNTdiNTE2YmM4OGNkM2ZhNjg1Il0=\">    <input type=\"hidden\" name=\"gform_target_page_number_17\" id=\"gform_target_page_number_17\" value=\"0\">    <input type=\"hidden\" name=\"gform_source_page_number_17\" id=\"gform_source_page_number_17\" value=\"1\">    <input type=\"hidden\" name=\"gform_field_values\" value=\"\"></form>';
    - find:
        - selector: "#input_17_3_3"
    - fill_in:
        - name: "input_3.3"
          selector: "#input_17_3_3"
          value: $NAME_FIRST
          required: true
        - name: "input_3.6"
          selector: "#input_17_3_6"
          value: $NAME_LAST
          required: true
        - name: "input_14"
          selector: "#input_17_14"
          value: $MESSAGE
          required: true
        - name: "input_18"
          selector: "#input_17_18"
          value: $SUBJECT
          required: true
        - name: "input_5"
          selector: "#input_17_5"
          value: $ADDRESS_STREET
          required: true
        - name: "input_7"
          selector: "#input_17_7"
          value: $ADDRESS_CITY
          required: true
        - name: "input_9"
          selector: "#input_17_9"
          value: $ADDRESS_ZIP5
          required: true
        - name: "input_10"
          selector: "#input_17_10"
          value: $EMAIL
          required: true
        - name: "input_10_2"
          selector: "#input_17_10_2"
          value: $EMAIL
          required: true
    - select:
        - name: "input_8"
          selector: "#input_17_8"
          value: "CO"
          required: true
          options:
            - CO
        - name: "input_2"
          selector: "#input_17_2"
          value: $NAME_PREFIX
          required: true
          options:
            - Mr.
            - Mrs.
            - Ms.
            - Mx.
            - Mr. and Mrs.
            - Miss
            - Dr.
        - name: "input_17"
          selector: "#input_17_17"
          value: $TOPIC
          required: true
          options:
            - Agriculture
            - Animal Rights
            - Appropriations
            - Arts & Humanities
            - Banking & Financial Services
            - Budget
            - Business and Commerce
            - Campaign/Election Reform
            - Consumer Protection
            - Children
            - Defense and Military
            - Economic Development
            - Education
            - Energy
            - Environment
            - Ethics Reform
            - Foreign Relations
            - Guns
            - Healthcare
            - Homeland Security
            - Housing and Urban Affairs
            - Immigration
            - Insurance Problems
            - Interior
            - Intelligence
            - Judiciary
            - Labor
            - Nutrition
            - Postal Service
            - Science and Innovation
            - Seniors
            - Social Issues
            - Taxes
            - Technology and Telecom
            - Trade
            - Transportation
            - Veterans
            - Women and Children
    - find:
        - selector: "#gform_17_new"
    - find:
        - selector: "#contact-form-emailJohn #gform_submit_button_17" 
    - javascript:
        - value: "document.querySelector('#gform_17_new').style.backgroundColor = 'red';"
    - click_on:
        - selector: "#gform_submit_button_17"
  success:
    headers:
      status: 200
    body:
      contains: "Thanks for contacting us!"